import React, { Component } from 'react';
import { connect } from 'react-redux';
import { Link } from 'react-router-dom';

class Header extends Component {
    renderContent() {
        switch (this.props.auth) {
            case null:
                return;
            case false:
                return (
                    <li>
                        <h1><a href="/auth/google">Увійти в акаунт</a></h1>
                    </li>
                );
            default:
                return [
                    <li>
                        <h1><a href="/api/logout">Вийти</a></h1>
                    </li>
                ];
        }
    }

    render () {
        return (
            <nav>   
                <div className="topnav"> 
                <Link to={this.props.auth ? '/cabinet' : '/'}> 
                    <svg width="65" height="61" viewBox="0 0 65 61" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 60.25L9 53.4063C9.22917 53.4063 11.0417 52.2188 14.4375 49.8438C18.375 47.0938 21.625 44.5833 24.1875 42.3125C27.6667 39.2292 29.4062 36.9479 29.4062 35.4688L29.4062 34.5C24.5312 34.5 17.7292 34.6042 9 34.8125L9 28.9375C15.4583 29.25 22.5833 29.4063 30.375 29.4063C37.7083 29.4063 44.1458 29.25 49.6875 28.9375L49.6875 34.8125C44.1458 34.6042 38.5208 34.5 32.8125 34.5L32.8125 35.2188C32.8125 36.3646 35.4687 39.2188 40.7812 43.7813C46.0937 48.3646 49.0625 50.6563 49.6875 50.6563L49.6875 57.1563C49.0625 57.1563 46.4792 54.9271 41.9375 50.4688C37.4167 46.0313 34.375 42.7292 32.8125 40.5625L32.5 40.5625C31.5833 42.9583 27.4479 46.9479 20.0937 52.5313C13.3229 57.6771 9.625 60.25 9 60.25Z" fill="white"/>
                    <path d="M25.8633 59.5391L24.1172 59.3867C23.8281 58.4258 23.6836 57.3789 23.6836 56.2461C23.6836 53.5586 24.418 51.5391 25.8867 50.1875C27.3633 48.8359 29.1641 48.1602 31.2891 48.1602C33.5156 48.1602 35.4336 48.9141 37.043 50.4219C38.6602 51.9297 39.4687 53.957 39.4687 56.5039C39.4687 57.207 39.3633 57.9492 39.1523 58.7305L37.2891 58.4023C37.5703 57.5039 37.7109 56.7031 37.7109 56C37.7109 54.1094 37.125 52.6758 35.9531 51.6992C34.7812 50.7227 33.3477 50.2344 31.6523 50.2344C29.9258 50.2344 28.4453 50.7969 27.2109 51.9219C25.9766 53.0469 25.3594 54.6016 25.3594 56.5859C25.3594 57.3437 25.5273 58.3281 25.8633 59.5391Z" fill="white"/>
                    <path d="M21.9902 30H18.2813C18.2813 29.2148 17.543 26.748 16.0664 22.5996H5.92384C4.47072 26.6895 3.74416 29.1562 3.74416 30H0.193375C0.193375 29.5664 1.70509 25.8223 4.72853 18.7676C7.75197 11.7012 9.26369 7.81641 9.26369 7.11328H13.3418C13.3418 7.80469 14.7832 11.6309 17.666 18.5918C20.5488 25.5527 21.9902 29.3555 21.9902 30ZM15.2578 20.2969C12.5039 13.418 11.127 9.76172 11.127 9.32812H10.9336C10.9336 9.69141 9.50978 13.3477 6.66212 20.2969H15.2578Z" fill="white"/>
                    <path d="M63.9902 30H60.2812C60.2812 29.2148 59.543 26.748 58.0664 22.5996H47.9238C46.4707 26.6895 45.7441 29.1562 45.7441 30H42.1934C42.1934 29.5664 43.7051 25.8223 46.7285 18.7676C49.752 11.7012 51.2637 7.81641 51.2637 7.11328H55.3418C55.3418 7.80469 56.7832 11.6309 59.666 18.5918C62.5488 25.5527 63.9902 29.3555 63.9902 30ZM57.2578 20.2969C54.5039 13.418 53.127 9.76172 53.127 9.32812H52.9336C52.9336 9.69141 51.5098 13.3477 48.6621 20.2969H57.2578Z" fill="white"/>
                    <line x1="30" y1="15" x2="30" y2="30" stroke="white" stroke-width="2"/>
                    <rect x="30" y="17" width="10" height="6" stroke="white" stroke-width="2"/>
                    </svg> 
                </Link>
                <ul className="right">
                    {this.renderContent()}
                </ul>
                </div>
            </nav>
        );
    }
}

function mapStateToProps({ auth }) {
    return { auth };
}

export default connect(mapStateToProps)(Header);